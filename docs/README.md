## 처리해야할 예외 사항

1. 방문 날짜
    - [x] 방문할 날짜는 1 이상 31 이하의 숫자로만 입력받아 주세요.
    - [x] 1 이상 31 이하의 숫자가 아닌 경우, "[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요."라는 에러 메시지를 보여 주세요.
    - [x] 모든 에러 메시지는 "[ERROR]"로 시작하도록 작성해 주세요.
2. 메뉴와 개수
    - [x] 고객이 메뉴판에 없는 메뉴를 입력하는 경우, "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."라는 에러 메시지를 보여 주세요.
    - [x] 메뉴의 개수는 1 이상의 숫자만 입력되도록 해주세요. 이외의 입력값은 "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."라는 에러 메시지를 보여 주세요.
    - [x] 메뉴 형식이 예시와 다른 경우, "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."라는 에러 메시지를 보여 주세요.
    - [x] 중복 메뉴를 입력한 경우(e.g. 시저샐러드-1,시저샐러드-1), "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."라는 에러 메시지를 보여 주세요.
    - [x] 모든 에러 메시지는 "[ERROR]"로 시작하도록 작성해 주세요.

## 도메인(클래스) 기능 목록

1. 입력(InputView)
    - [x] 식당 방문 날짜를 입력 받는다.
        - [x] 숫자가 아닌 다른 값을 입력받을 경우, 예외 발생한다.
        - [x] 숫자가 1 이상 31 이하가 아닌 경우, 예외 발생한다.
    - [x] 주문할 메뉴와 수량을 입력 받는다.
2. 컨버터(Converter)
    - [x] 입력받은 값을 `,` 기준으로 분리한다.
    - [x] `,`로 분리한 각 문자를 `-`로 분리한다.
      - [x] `-` 앞은 메뉴이름, `-` 뒤는 수량이며, 각 값에 대한 검증 로직을 수행한다.
    - [x] `,`로 구분된 값들의 공백을 제거한다.
3. 출력(OutputView)
    - [x] 미리보기 안내문 출력한다.
    - [x] 주문 메뉴를 출력한다.
    - [x] 할인 전 총주문 금액을 출력한다.
    - [x] 증정 메뉴를 출력한다.
        - [x] 증정 메뉴가 없을 경우, 없음을 출력한다.
    - [x] 혜택 내역을 출력한다.
        - [x] 혜택 내역에 대한 금액은 `-`를 붙이고 출력한다.
        - [x] 혜택 내역이 없을 경우, 없음을 출력한다.
    - [x] 총혜택 금액을 출력한다.
        - [x] 총혜택 금액은 `-`를 붙이고 출력한다.
        - [x] 총혜택 금액이 없을 경우, `-` 없이 0원을 출력한다.
    - [x] 할인 후 예상 금액을 출력한다.
    - [x] 12월 이벤트 배지를 출력한다.
        - [x] 금액을 출력하는 부분은 천 단위 마다 `,`로 구분해서 출력한다.
4. 게임 진행(Controller)
    - [x] 이벤트 플래너 안내문을 출력한다.
    - [x] `InputView`에게 식당 방문 날짜 입력을 **요청한다.**
        - [x] 숫자가 아닌 다른 값을 입력받을 경우, **예외 발생한다.**
        - [x] 숫자가 1 이상 31 이하가 아닌 경우, **예외 발생한다.**
            - [x] 예외가 발생할 경우, 다시 입력을 요청한다.
    - [x] `InputView`에게 메뉴와 개수 날짜 입력을 **요청한다.**
        - [x] `Converter`를 통해 메뉴이름과 수량을 전달받는다.
        - [x] 음료만 입력할 경우, 예외를 발생시킨다.
            - [x] 예외가 발생할 경우, 다시 입력을 요청한다.
5. 주문 서비스(OrderService)
    - [x] 입력 값을 바탕으로 Order를 생성한다.
    - [x] Order가 정상적으로 생성되면 총 주문 금액을 계산한다.
    - [x] 할인 전 총 주문 금액을 반환한다.
    - [x] 총 주문 금액과 날짜를 이벤트 체크에게 전달한다.
        - [x] 증점품 목록을 반환한다.
        - [x] 이벤트 배지를 반환한다.
    - [x] 총 혜택 목록을 반환한다.
        - [x] 평일/주말 할인은 특정 메뉴 개수에 맞게 계산한다.
        - [x] 총 혜택 금액을 반환한다.
    - [x] 할인 후 예상 결제 금액을 반환한다.
    - [x] 주문된 메뉴와 수량을 반환한다.
6. 주문(Order)
    - [x] 입력 값을 바탕으로 메뉴와 수량을 Map으로 저장한다.
    - [x] 등록된 메뉴가 아닌 경우, 예외가 발생한다.
    - [x] 메뉴의 개수가 1 미만일 경우, 예외가 발생한다.
    - [x] 같은 메뉴의 이름을 두 번이상 받을 경우, 예외가 발생한다.
    - [x] 메뉴에 음료만 있을 경우, 예외가 발생한다.
    - [x] 등록된 메뉴의 총 수량이 20개를 초과할 경우, 예외가 발생한다.
7. 메뉴(Menu)
    - [x] 각 Enum 객체는 메뉴의 이름과 가격을 갖고 있다.
8. 이벤트 체크(EventCheck)
    - [x] 입력받은 날짜, 메뉴, 할인 전 총주문 금액을 바탕으로 이벤트 로직 수행한다.
        - [x] 입력받은 날짜를 바탕으로 할인 가능한 타입을 요청한다.
            - [x] 총 할인 금액 내역을 서비스에게 반환한다.
        - [x] 할인 전 총주문 금액을 통해 증정 이벤트의 물건과 가격을 계산한다.
            - [x] 할인 전 총주문 금액이 12만원 이상일 경우, 샴페인 1개를 추가한다.
        - [x] 총 혜택 금액(총 할인 금액 + 증정 메뉴 금액)을 바탕으로 이벤트 배지를 선택한다.
            - [x] 이벤트 배지는 Enum으로 구현한다.
                - [x] 각 Enum은 배지 이름, 배지 조건을 갖고 있다.
                - [x] 금액을 입력했을 때, 특정 조건을 만족하는 배지를 반환한다.
    - [x] 증정 메뉴가 없을 경우, 없음이라는 Enum을 저장한다.
9. 할인 타입(DiscountType)
    - [x] 할인 타입은 각각 Enum으로 구현된다.
        - [x] 각 할인 타입은 할인 이름, 할인 날짜 리스트, 할인 금액을 갖고 있다.
    - [x] 디데이 할인은 1일 부터 25일까지만 적용 가능하다. 나머지는 31일까지 적용
        - [x] 1000 + (입력받은 날짜 - 1) * 100 만큼의 할인 금액을 반환한다.
    - [x] 날짜 할인은 평일 할인과 주말 할인으로 나누어 진다.
    - [x] 특별 할인은 정해진 날짜에만 할인된다.
10. 리팩토링
- [x] 변수 명을 가능한 통일하되, 각 이름이 명확하게 구분되어야 한다.
    - 할인 전 총주문 금액: `totalOrderAmount`
    - 할인 금액의 합계: `totalDiscountAmount`
    - 증정 메뉴의 가격: `giftPrice`
    - 총 혜택 금액: `totalBenefitAmount` (할인 금액의 합계 + 증정 메뉴의 가격)
    - 할인 후 예상 결제 금액: `discountedTotalPrice`
- [x] 컨트롤러 메서드 기능별로 분리시키기
- [x] 서비스 계층 메서드 기능별로 정리 및 메서드 이름 수정

## 계층 별 메서드 소개
### Controller
1. `placeOrderRequest` : 컨트롤러에게 주문을 요청하는 메서드로, 어플리케이션을 시작하는 인터페이스이다.
   - `receiveOrder()` : 사용자에게 주문(메뉴 및 수량)을 받는 기능을 수행하는 메서드이다.
   - `submitOrder()` : 주문받은 내역을 서비스에게 전달하여 주문 등록을 요청하는 메서드이다.
   - `showOrderResult()` : 주문 후 여러 결과들을 출력을 요청하는 메서드이다.
     - `showBeforeDiscountOrder()` : 할인이 적용되기 전 결과(주문 메뉴, 할인 전 총주문 금액)의 출력을 요청하는 메서드이다.
     - `showAfterDiscountOrder()` : 할인이 적용된 후 결과(증정 메뉴, 혜택 내역, 총혜택 금액, 할인 후 예상 결제 금액, 12월 이벤트 배지)
     의 출력을 요청하는 메서드이다.
### InputView
1. `readDate()` : 방문 날짜를 입력받는 메서드이다.
2. `readMenuAndCount()` : 주문 메뉴와 수량을 입력받는 메서드이다.
3. `validateInputNumber` : 정규식 검증을 통해 숫자 형식을 검증하는 메서드이다.
4. `validateDateInRange()` : 입력받은 날짜가 1과 31 사이인지 검증하는 메서드이다.
5. `validateInputBlank()` : 입력 값이 공백인지 검증하는 메서드이다.
### OutputView
1. `printFirstNotice()` : 결과 출력하기 전 메시지 출력하는 메서드이다.
2. `printMenu()` : 입력받은 주문 Map의 Key-Value를 주문 메뉴 형식으로 출력하는 메서드이다.
3. `printNotDiscountedTotalPrice()` : 할인 전 총주문 금액을 출력하는 메서드이다.
4. `printGiftCatalog()` : 증정 메뉴 목록을 출력하는 메서드이다.
5. `printAllBenefits()` : 혜택 내역을 출력하는 메서드이다.
6. `printDiscountedTotalPrice()` 할인 후 예상 결제 금액을 출력하는 메서드이다.
7. `printEventBadge()` : 12월 이벤트 배지를 출력하는 메서드이다.
8. `getFormattedValue()` : 숫자를 천 단위마다 `,`로 구분하여 반환하는 메서드이다.
> `OutputView`는 결과를 출력하는 역할을 갖고 있기 때문에 `print`라는 접두사를 사용하였다. `Controller`는
> `OutputView`에서 출력한 값들을 보여주는 역할을 갖기 때문에 `show`라는 접두사를 사용하였다.
### OrderService
1. `order()` : InputView에게 전달받은 메뉴 이름과, 수량을 바탕으로 주문을 생성한다. 그리고 할인 전 총주문 금액을 업데이트 한다.
   - `createOrder()` : Order 객체를 생성하는 메서드로 `OrderService`만 사용할 수 있다.
2. `getOrderResult()` : `Order`에 저장된 주문 내역을 반환하는 메서드이다.
3. `getTotalOrderAmount()` : 할인 전 총주문 금액을 반환하는 메서드이다.
4. `getEventGift()` : 할인 전 총주문 금액을 바탕으로 증정 메뉴를 반환하는 메서드이다.
5. `getAllBenefit()` : 혜택 내역을 반환하는 메서드이다.
   - `createAllBenefit()` : **증정 이벤트를 포함한 모든 혜택 내역**을 생성하는 메서드이다.
     - `getBenefitsWithoutGift()` : **증정 이벤트를 제외한 할인 혜택 내역**을 반환하는 메서드이다.
   - `calculateDiscountPrice()` : 평일할인일 경우, 디저트 메뉴 개수 * 2023원 / 주말할인일 경우, 메인 메뉴 개수 * 2023원 / 
   그 외 기본 할인 금액으로 계산하여 각 할인내역의 총 할인 금액을 계산하는 메서드이다.
   - `calculateGiftPrice()` : 증정 이벤트의 물품 가격을 총혜택 금액에 추가하는 메서드이다.
   - `calculateBenefit()` : 총 주문 금액이 최소금액(만 원)보다 적을 경우, 총혜택 금액을 계산하지 않는다. 각 할인타입의 기본 금액과
   
